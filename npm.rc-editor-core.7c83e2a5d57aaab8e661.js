(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"4U4Y":function(t,e,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("JPcv");var a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){return o.a.createElement("div",null,this.props.children)},e}(o.a.Component);function c(){}var s=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n)),o={};return n.plugins.forEach(function(t){o[t.name]=t}),r.pluginsMap=Object(i.Map)(o),r.state={editorState:n.editorState,toolbars:[]},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.renderToolbarItem=function(t,e){var n=this.pluginsMap.get(t);if(n&&n.component){var r=n.component,i={key:"toolbar-item-"+e,onClick:r.props?r.props.onClick:c};return o.a.isValidElement(r)?o.a.cloneElement(r,i):o.a.createElement(r,i)}return null},e.prototype.conpomentWillReceiveProps=function(t){this.render()},e.prototype.render=function(){var t=this,e=this.props,n=e.toolbars,r=e.prefixCls;return o.a.createElement("div",{className:r+"-toolbar"},n.map(function(e,n){var r=o.a.Children.map(e,t.renderToolbarItem.bind(t));return o.a.createElement(a,{key:"toolbar-"+n},r)}))},e}(o.a.Component);function u(t){}function l(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t={onChange:function(t){},onUpArrow:u,onDownArrow:u,getEditorState:u,setEditorState:u,handleReturn:u};return{name:"toolbar",decorators:[],callbacks:t,onChange:function(e){return t.onChange?t.onChange(e):e},component:s}}n.d(e,"a",function(){return l})},C0Q0:function(t,e,n){"use strict";var r=n("JPcv");var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._store=Object(r.Map)()}return t.prototype.set=function(t,e){this._store=this._store.set(t,e)},t.prototype.get=function(t){return this._store.get(t)},t}();e.a=o},Qma1:function(t,e,n){"use strict";function r(t){return t.split("<br />\n").join("\n")}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{encode:!1},n=t.getCurrentContent(),r=n.getBlockMap(),o=e.encode;return r.map(function(t){var e="",r=0,i=t.getText();return t.findEntityRanges(function(t){return!!t.getEntity()},function(o,a){var c=t.getEntityAt(o),s=n.getEntity(c).getData();e+=i.slice(r,o),e+=s&&s.export?s.export(s):i.slice(o,a),r=a}),e+=i.slice(r),o?function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split(" ").join("&nbsp;").split("\n").join("<br />\n")}(e):e}).join(o?"<br />\n":"\n")}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o})},WU7Z:function(t,e,n){"use strict";var r=n("yNtp");n.d(e,"a",function(){return r.a});var o=r.a.GetText,i=r.a.GetHTML,a=r.a.ToEditorState;r.a},rVsh:function(t,e,n){"use strict";var r=n("v83y"),o=n("JPcv"),i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var a=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(t){a.forEach(function(e){i[function(t,e){return t+e.charAt(0).toUpperCase()+e.substring(1)}(e,t)]=i[t]})});var c=i;n.d(e,"a",function(){return y});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=Object(o.OrderedSet)(),l=r.DefaultDraftInlineStyle;var p=/^(moz|ms|o|webkit)-/,f=/^\d+$/,d=/([A-Z])/g;function h(t){return t?Object.keys(t).map(function(e){return function(t){return t.replace(d,"-$1").toLowerCase().replace(p,"-$1-")}(e)+":"+function(t,e){var n=void 0;return"string"==typeof e?n=f.test(e):(n=!0,e=String(e)),n&&"0"!==e&&!0!==c[t]?e+"px":e}(e,t[e])}).join(";"):""}function y(t){return function(e){var n=e.getCurrentContent(),r=n.getBlockMap(),o=t.get("customStyleMap")||{},i=t.get("blockRenderMap")||{},a=t.get("customStyleFn"),c=t.get("toHTMLList");return s(o,l),r.map(function(t){var e="<div>",r="</div>",u=t.getText(),l=t.getType(),p=i.get(l);if(p){var f="function"==typeof p.element&&p.elementTag||"div";e="<"+(f||"div")+' style="'+h(i.get(l).style||{})+'">',r="</"+(f||"div")+">"}for(var d=t.getCharacterList(),y=null,m=null,v=[],b=0,S=0,E=u.length;S<E;S++){m=y;var O=d.get(S);y=O?O.getEntity():null,S>0&&y!==m&&(v.push([m,g(u.slice(b,S),d.slice(b,S))]),b=S)}return v.push([y,g(u.slice(b),d.slice(b))]),v.map(function(t){var r=t[0],i=t[1],u=i.map(function(t){return t[0]}).join(""),l=i.map(function(t){var e=t[0],n=t[1],r=function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split(" ").join("&nbsp;").split("\n").join("<br >\n")}(e);if(n.size){var i={};n.forEach(function(t){if(o.hasOwnProperty(t)){var e=o[t];i=s(i,e)}});var c=a(n);return'<span style="'+h(i=s(i,c))+'">'+r+"</span>"}return"<span>"+r+"</span>"}).join("");if(r){var p=n.getEntity(r),f=p.getData();if(f&&f.export)e+=f.export(l,f);else{var d="";c.forEach(function(t){var e=t(u,p,n);e&&(d=e)}),d&&(e+=d)}}else e+=l}),e+=r}).join("\n")}}function g(t,e){for(var n=u,r=u,i=[],a=0,c=0,s=t.length;c<s;c++){r=n;var l=e.get(c);n=l?l.getStyle():u,c>0&&!Object(o.is)(n,r)&&(i.push([t.slice(a,c),r]),a=c)}return i.push([t.slice(a),n]),i}},yNtp:function(t,e,n){"use strict";(function(t,r){var o=n("q1tI"),i=n.n(o),a=n("17x9"),c=n.n(a),s=n("v83y"),u=n("JPcv"),l=(n("YBdB"),n("TSYQ")),p=n.n(l),f=n("4U4Y"),d=n("C0Q0"),h=n("rVsh"),y=n("Qma1"),g=n("z28V"),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};var v=s.KeyBindingUtil.hasCommandModifier;function b(){}var S={},E={width:0,opacity:0,border:0,position:"absolute",left:0,top:0},O=Object(f.a)(),w=new d.a,C=function(e){function n(r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this,r));o.cancelForceUpdateImmediate=function(){t(o.forceUpdateImmediate),o.forceUpdateImmediate=null},o.handlePastedText=function(t,e){var n=o.state.editorState;if(e){var r=n.getCurrentContent(),i=n.getSelection(),a=Object(g.a)(e,r),c=s.Modifier.replaceWithFragment(r,i,a),u=c.merge({selectionBefore:i,selectionAfter:c.getSelectionAfter().set("hasFocus",!0)});return o.setEditorState(s.EditorState.push(n,u,"insert-fragment"),!0),"handled"}return"not-handled"},o.plugins=Object(u.List)(Object(u.List)(r.plugins).flatten(!0));var i=void 0;return i=void 0!==r.value&&r.value instanceof s.EditorState&&r.value||s.EditorState.createEmpty(),i=o.generatorDefaultValue(i),o.state={plugins:o.reloadPlugins(),editorState:i,customStyleMap:{},customBlockStyleMap:{},compositeDecorator:null},void 0!==r.value&&(o.controlledMode=!0),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),n.ToEditorState=function(t){var e=s.ContentState.createFromText(Object(y.a)(t)||""),n=s.EditorState.createWithContent(e);return s.EditorState.forceSelection(n,e.getSelectionAfter())},n.prototype.getDefaultValue=function(){var t=this.props,e=t.defaultValue;return t.value||e},n.prototype.Reset=function(){var t=this.getDefaultValue(),e=t?t.getCurrentContent():s.ContentState.createFromText(""),n=s.EditorState.push(this.state.editorState,e,"remove-range");this.setEditorState(s.EditorState.forceSelection(n,e.getSelectionBefore()))},n.prototype.SetText=function(t){var e=s.ContentState.createFromText(t||""),n=s.EditorState.push(this.state.editorState,e,"change-block-data");this.setEditorState(s.EditorState.moveFocusToEnd(n),!0)},n.prototype.getChildContext=function(){return{getEditorState:this.getEditorState,setEditorState:this.setEditorState}},n.prototype.reloadPlugins=function(){var t=this;return this.plugins&&this.plugins.size?this.plugins.map(function(e){if(e.callbacks)return e;if(e.hasOwnProperty("constructor")){var n=m(t.props.pluginConfig,e.config||{},S);return e.constructor(n)}return console.warn(">> 插件: [",e.name,"] 无效。插件或许已经过期。"),!1}).filter(function(t){return t}).toArray():[]},n.prototype.componentWillMount=function(){var t=this.initPlugins().concat([O]),e={},n={},r=Object(u.Map)(s.DefaultDraftBlockRenderMap),o=Object(u.List)([]),i=new s.CompositeDecorator(t.filter(function(t){return void 0!==t.decorators}).map(function(t){return t.decorators}).reduce(function(t,e){return t.concat(e)},[])),a=Object(u.List)(t.filter(function(t){return!!t.component&&"toolbar"!==t.name}));t.forEach(function(t){var i=t.styleMap,a=t.blockStyleMap,c=t.blockRenderMap,s=t.toHtml;if(i)for(var u in i)i.hasOwnProperty(u)&&(e[u]=i[u]);if(a)for(var l in a)a.hasOwnProperty(l)&&(n[l]=a[l],r=r.set(l,{element:null}));if(s&&(o=o.push(s)),c)for(var p in c)c.hasOwnProperty(p)&&(r=r.set(p,c[p]))}),w.set("customStyleMap",e),w.set("customBlockStyleMap",n),w.set("blockRenderMap",r),w.set("customStyleFn",this.customStyleFn.bind(this)),w.set("toHTMLList",o),this.setState({toolbarPlugins:a,compositeDecorator:i}),this.setEditorState(s.EditorState.set(this.state.editorState,{decorator:i}),!1,!1)},n.prototype.componentWillReceiveProps=function(t){if(this.forceUpdateImmediate&&this.cancelForceUpdateImmediate(),this.controlledMode){var e=t.value.getDecorator()?t.value:s.EditorState.set(t.value,{decorator:this.state.compositeDecorator});this.setState({editorState:e})}},n.prototype.componentWillUnmount=function(){this.cancelForceUpdateImmediate()},n.prototype.generatorDefaultValue=function(t){var e=this.getDefaultValue();return e||t},n.prototype.getStyleMap=function(){return w.get("customStyleMap")},n.prototype.setStyleMap=function(t){w.set("customStyleMap",t),this.render()},n.prototype.initPlugins=function(){var t=this,e=["focus","getEditorState","setEditorState","getStyleMap","setStyleMap"];return this.getPlugins().map(function(n){return e.forEach(function(e){n.callbacks.hasOwnProperty(e)&&(n.callbacks[e]=t[e].bind(t))}),n})},n.prototype.focusEditor=function(t){this.refs.editor.focus(t),this.props.readOnly&&this._focusDummy.focus(),this.props.onFocus&&this.props.onFocus(t)},n.prototype._focus=function(t){if(t&&t.nativeEvent&&t.nativeEvent.target&&(!document.activeElement||"true"!==document.activeElement.getAttribute("contenteditable")))return this.focus(t)},n.prototype.focus=function(t){var e=this,n=t&&t.nativeEvent;if(n&&n.target===this._editorWrapper){var r=this.state.editorState,o=r.getSelection();if(!o.getHasFocus()&&o.isCollapsed())return this.setState({editorState:s.EditorState.moveSelectionToEnd(r)},function(){e.focusEditor(t)})}this.focusEditor(t)},n.prototype.getPlugins=function(){return this.state.plugins.slice()},n.prototype.getEventHandler=function(){var t=this,e={};return["onUpArrow","onDownArrow","handleReturn","onFocus","onBlur","onTab","handlePastedText"].forEach(function(n){e[n]=t.generatorEventHandler(n)}),e},n.prototype.getEditorState=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.refs.editor.focus(),this.state.editorState},n.prototype.setEditorState=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t;this.getPlugins().forEach(function(t){if(t.onChange){var e=t.onChange(i);e&&(i=e)}}),this.props.onChange&&o&&(this.props.onChange(i),this.controlledMode&&(this.forceUpdateImmediate=r(function(){return e.setState({editorState:new s.EditorState(e.state.editorState.getImmutable())})}))),this.controlledMode||this.setState({editorState:i},n?function(){return r(function(){return e.refs.editor.focus()})}:b)},n.prototype.handleKeyBinding=function(t){if(this.props.onKeyDown){t.ctrlKey=v(t);var e=this.props.onKeyDown(t);return e||Object(s.getDefaultKeyBinding)(t)}return Object(s.getDefaultKeyBinding)(t)},n.prototype.handleKeyCommand=function(t){return this.props.multiLines?this.eventHandle("handleKeyBinding",t):"split-block"===t?"handled":"not-handled"},n.prototype.getBlockStyle=function(t){var e=w.get("customBlockStyleMap"),n=t.getType();return e.hasOwnProperty(n)?e[n]:""},n.prototype.blockRendererFn=function(t){var e=null;return this.getPlugins().forEach(function(n){if(n.blockRendererFn){var r=n.blockRendererFn(t);r&&(e=r)}}),e},n.prototype.eventHandle=function(t){for(var e,n=this.getPlugins(),r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];for(var a=0;a<n.length;a++){var c,s=n[a];if(s.callbacks[t]&&"function"==typeof s.callbacks[t])if(!0===(c=s.callbacks)[t].apply(c,o))return"handled"}return this.props.hasOwnProperty(t)&&!0===(e=this.props)[t].apply(e,o)?"handled":"not-handled"},n.prototype.generatorEventHandler=function(t){var e=this;return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.eventHandle.apply(e,[t].concat(r))}},n.prototype.customStyleFn=function(t){if(0===t.size)return{};for(var e=this.getPlugins(),n={},r=0;r<e.length;r++)if(e[r].customStyleFn){var o=e[r].customStyleFn(t);o&&m(n,o)}return n},n.prototype.render=function(){var t,e=this,n=this.props,r=n.prefixCls,o=n.toolbars,a=n.style,c=n.readOnly,u=n.multiLines,l=this.state,f=l.editorState,d=l.toolbarPlugins,h=w.get("customStyleMap"),y=w.get("blockRenderMap"),g=this.getEventHandler(),v=O.component,b=p()(((t={})[r+"-editor"]=!0,t.readonly=c,t.oneline=!u,t));return i.a.createElement("div",{style:a,className:b,onClick:this._focus.bind(this)},i.a.createElement(v,{editorState:f,prefixCls:r,className:r+"-toolbar",plugins:d,toolbars:o}),i.a.createElement("div",{className:r+"-editor-wrapper",ref:function(t){return e._editorWrapper=t},style:a,onClick:function(t){return t.preventDefault()}},i.a.createElement(s.Editor,m({},this.props,g,{ref:"editor",customStyleMap:h,customStyleFn:this.customStyleFn.bind(this),editorState:f,handleKeyCommand:this.handleKeyCommand.bind(this),keyBindingFn:this.handleKeyBinding.bind(this),onChange:this.setEditorState.bind(this),blockStyleFn:this.getBlockStyle.bind(this),blockRenderMap:y,handlePastedText:this.handlePastedText,blockRendererFn:this.blockRendererFn.bind(this)})),c?i.a.createElement("input",{style:E,ref:function(t){return e._focusDummy=t},onBlur:g.onBlur}):null,this.props.children))},n}(i.a.Component);C.GetText=y.b,C.GetHTML=Object(h.a)(w),C.defaultProps={multiLines:!0,plugins:[],prefixCls:"rc-editor-core",pluginConfig:{},toolbars:[],spilitLine:"enter"},C.childContextTypes={getEditorState:c.a.func,setEditorState:c.a.func},e.a=C}).call(this,n("URgk").clearImmediate,n("URgk").setImmediate)},z28V:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("v83y"),o=n("TZBG"),i=n.n(o),a=n("JPcv");var c=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=arguments,o=r.length-1;return function(){for(var t=o,e=r[o].apply(this,arguments);t--;)e=r[t].call(this,e);return e}}(function(t){if(null==t)return null;var e=document.createElement("blockquote");return e.innerText=JSON.stringify(t),e},function(t){return{contentType:"image",src:t.getAttribute("src"),width:t.getAttribute("width"),height:t.getAttribute("height"),align:t.style.cssFloat}}),s=function(t){return function(t,e){if(e instanceof HTMLElement)return t.parentNode.replaceChild(e,t)}(t,c(t))};function u(t,e){var n=(new DOMParser).parseFromString(t,"text/html");i()(n.querySelectorAll("img")).forEach(s);var o=Object(r.convertFromHTML)(n.body.innerHTML).contentBlocks;return o=o.reduce(function(t,n){if("blockquote"!==n.getType())return t.concat(n);var o=JSON.parse(n.getText());e.createEntity("IMAGE-ENTITY","IMMUTABLE",o);var i=e.getLastCreatedEntityKey(),c=r.CharacterMetadata.create({entity:i}),s=[new r.ContentBlock({key:Object(r.genKey)(),type:"image-block",text:" ",characterList:Object(a.List)(Object(a.Repeat)(c,c.count()))}),new r.ContentBlock({key:Object(r.genKey)(),type:"unstyled",text:"",characterList:Object(a.List)()})];return t.concat(s)},[]),n=null,r.BlockMapBuilder.createFromArray(o)}}}]);